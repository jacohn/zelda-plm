(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{2184:function(e,t,n){Promise.resolve().then(n.t.bind(n,972,23)),Promise.resolve().then(n.bind(n,1584)),Promise.resolve().then(n.bind(n,8316))},1584:function(e,t,n){"use strict";n.d(t,{default:function(){return i}});var r=n(1229),s=n(1250),a=n(1198);function i(){let e=(0,s.useRouter)(),t=(0,s.usePathname)(),n=n=>{t!==n&&e.push(n)};return(0,r.useEffect)(()=>{let e=e=>{if(!function(e){var t;if(!e)return!1;let n=null===(t=e.tagName)||void 0===t?void 0:t.toLowerCase();return"input"===n||"textarea"===n||!0===e.isContentEditable}(e.target)&&!e.repeat){if(e.ctrlKey&&("s"===e.key||"S"===e.key)){e.preventDefault(),n("/log");return}switch(e.key){case"Escape":n("/");break;case"i":case"I":n("/inventory");break;case"q":case"Q":n("/quests");break;case"f":case"F":n("/forge");break;case"-":n("/log")}}};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[t]),(0,a.D)(e=>{switch(e){case"system":n("/");break;case"inventory":n("/inventory");break;case"quests":n("/quests");break;case"forge":n("/forge");break;case"log":n("/log")}}),null}},8316:function(e,t,n){"use strict";n.d(t,{default:function(){return p}});var r=n(9533),s=n(1229),a=n(9812),i=n.n(a);function o(e){let{onMenuClick:t}=e;return(0,r.jsx)("header",{className:"sticky top-0 z-40 bg-temple/70 backdrop-blur border-b border-white/10",children:(0,r.jsx)("div",{className:"max-w-6xl mx-auto px-6 py-3 flex items-center justify-between",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("button",{id:"nav-menu-button","aria-label":"Open navigation",onClick:t,className:"card px-2 py-1",children:"☰"}),(0,r.jsx)(i(),{href:"/",className:"font-display text-xl title-shadow hover:opacity-90",children:"Forge & Field"})]})})})}var l=n(1250),c=n(1790),u=n(7822);function d(e){let{open:t,onClose:n}=e,s=(0,l.usePathname)();return(0,r.jsx)(c.M,{children:t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.E.div,{className:"fixed inset-0 bg-black/40 z-40",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:n}),(0,r.jsxs)(u.E.aside,{className:"fixed left-0 top-0 bottom-0 w-72 bg-temple/95 backdrop-blur border-r border-white/10 z-50",initial:{x:-320},animate:{x:0},exit:{x:-320},children:[(0,r.jsxs)("div",{className:"px-4 py-3 flex items-center justify-between border-b border-white/10",children:[(0,r.jsx)("div",{className:"font-display text-xl",children:"Navigate"}),(0,r.jsx)("button",{onClick:n,className:"card px-2 py-1 text-sm",children:"Close"})]}),(0,r.jsx)("nav",{className:"p-3 space-y-2",children:[{href:"/",label:"Home"},{href:"/inventory",label:"Inventory"},{href:"/quests",label:"Quests"},{href:"/forge",label:"Forge"},{href:"/log",label:"Adventure Log"}].map(e=>{let t=s===e.href;return(0,r.jsx)(i(),{href:e.href,onClick:n,className:"block card px-3 py-2 ".concat(t?"ring-2 ring-gold":""),children:e.label},e.href)})})]})]})})}var f=n(1198);let h=[{path:"/",title:"Welcome to PLM",selector:"#explore-card",body:["I love how The Legend of Zelda: Breath of the Wild teaches the engineering principles of planning and iteration through play.","This demo borrows that spirit to make PLM basics clear and fun.","PLM (Product Lifecycle Management) keeps items, changes, and history in sync from idea → product launch → servicing → sunsettting."]},{path:"/inventory",title:"Inventory = Items & Revisions",selector:"#inventory-grid",body:["Browse parts like swords, shields, and tools — each with a revision (Rev A, Rev B…).","Track suppliers, cost, and health, so teams use the right revision."]},{path:"/quests",title:"Requests = Incoming Work",selector:"#quest-map",body:["Requests collect issues and improvements. Prioritize them and link to affected items.","Progress moves through investigate → fix → verify → close."]},{path:"/forge",title:"Forge = Changes (ECOs)",selector:"#combine-area",body:["Craft variants and propose changes (ECOs) when ready.","Combine components, preview impact, and “forge” an updated design."]},{path:"/log",title:"Adventure Log = Audit",selector:"#adventure-log",body:["Every change leaves breadcrumbs — helpful for compliance and storytelling.","Record results, share release notes, and keep teams aligned."]},{path:"/",title:"You're all set!",selector:"#nav-menu-button",body:["Explore freely. Use the header ☰ to jump anywhere. Have fun!"]}];function m(){let e=(0,l.usePathname)(),t=(0,l.useRouter)(),n=(0,l.useSearchParams)(),a="plm"===n.get("tour"),i=Math.max(0,Math.min(h.length-1,parseInt(n.get("step")||"1",10)-1)),o=h[i],c=o.selector,[u,d]=(0,s.useState)(0),m=(0,s.useMemo)(()=>{if(!a||!c)return null;let e=document.querySelector(c);if(!e)return null;let t=e.getBoundingClientRect();return e.scrollIntoView({block:"center",inline:"center",behavior:"smooth"}),t},[a,c,e,i,u]);(0,s.useEffect)(()=>{if(!a)return;let e=()=>d(e=>e+1);return window.addEventListener("resize",e),window.addEventListener("scroll",e,!0),()=>{window.removeEventListener("resize",e),window.removeEventListener("scroll",e,!0)}},[a]),(0,s.useEffect)(()=>{a&&e!==o.path&&t.push("".concat(o.path,"?tour=plm&step=").concat(i+1))},[a,e,o.path,i,t]);let p=e=>{let n=Math.max(0,Math.min(h.length-1,e)),r=h[n];t.push("".concat(r.path,"?tour=plm&step=").concat(n+1))},x=()=>{try{localStorage.setItem("ff_tour_done","1")}catch(e){}t.push(e)};return((0,s.useEffect)(()=>{if(!a)return;let e=e=>{"Escape"===e.key?x():"ArrowRight"===e.key||"Enter"===e.key?p(i+1):("ArrowLeft"===e.key||"Backspace"===e.key)&&p(i-1)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[a,i]),(0,f.D)(e=>{a&&("right"===e||"confirm"===e?p(i+1):("left"===e||"back"===e)&&p(i-1))}),a)?(0,r.jsxs)("div",{className:"fixed inset-0 z-[60] pointer-events-none",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-black/30"}),m&&(0,r.jsx)("div",{className:"absolute border-2 border-gold rounded-xl shadow-soft",style:{left:m.left-8,top:m.top-8,width:m.width+16,height:m.height+16,pointerEvents:"none"}}),(0,r.jsx)("div",{className:"pointer-events-auto absolute left-1/2 top-6 -translate-x-1/2 w-[min(720px,92vw)]",children:(0,r.jsxs)("div",{className:"glass p-4 rounded-2xl",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-display text-xl mb-1",children:o.title}),(0,r.jsx)("ul",{className:"list-disc ml-5 space-y-1 text-sm",children:o.body.map((e,t)=>(0,r.jsx)("li",{children:e},t))})]}),(0,r.jsx)("button",{onClick:x,className:"card px-2 py-1 text-sm",children:"Skip"})]}),(0,r.jsxs)("div",{className:"mt-3 flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("div",{className:"text-xs opacity-70",children:["Step ",i+1," / ",h.length]}),(0,r.jsx)("div",{className:"flex gap-1",children:h.map((e,t)=>(0,r.jsx)("span",{className:"inline-block w-2 h-2 rounded-full ".concat(t===i?"bg-gold":"bg-white/40")},t))})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{onClick:()=>p(i-1),disabled:0===i,className:"card px-3 py-1 text-sm ".concat(0===i?"opacity-50":""),children:"Back"}),i<h.length-1?(0,r.jsx)("button",{onClick:()=>p(i+1),className:"card px-3 py-1 text-sm",children:"Next"}):(0,r.jsx)("button",{onClick:x,className:"card px-3 py-1 text-sm",children:"Finish"})]})]})]})})]}):null}function p(e){let{children:t}=e,[n,a]=(0,s.useState)(!1);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o,{onMenuClick:()=>a(!0)}),(0,r.jsx)(d,{open:n,onClose:()=>a(!1)}),(0,r.jsx)(m,{}),(0,r.jsx)("main",{className:"max-w-6xl mx-auto p-6",children:t})]})}},1198:function(e,t,n){"use strict";n.d(t,{D:function(){return a}});var r=n(1229);let s={9:"system",4:"inventory",5:"quests",7:"forge",0:"confirm",1:"back",12:"up",13:"down",14:"left",15:"right"};function a(e){let t=(0,r.useRef)(),n=(0,r.useRef)({});(0,r.useEffect)(()=>{let r=()=>{var a,i;let o=((null===(a=(i=navigator).getGamepads)||void 0===a?void 0:a.call(i))||[])[0];o&&o.buttons.forEach((t,r)=>{let a=!0===n.current[r];if(t.pressed&&!a){let t=s[r];t&&e(t)}n.current[r]=t.pressed}),t.current=requestAnimationFrame(r)};return t.current=requestAnimationFrame(r),()=>cancelAnimationFrame(t.current||0)},[e])}},1250:function(e,t,n){"use strict";var r=n(7797);n.o(r,"usePathname")&&n.d(t,{usePathname:function(){return r.usePathname}}),n.o(r,"useRouter")&&n.d(t,{useRouter:function(){return r.useRouter}}),n.o(r,"useSearchParams")&&n.d(t,{useSearchParams:function(){return r.useSearchParams}})},972:function(){},1790:function(e,t,n){"use strict";n.d(t,{M:function(){return x}});var r=n(1229),s=n(6310);function a(){let e=(0,r.useRef)(!1);return(0,s.L)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var i=n(2686),o=n(6714),l=n(634);class c extends r.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function u({children:e,isPresent:t}){let n=(0,r.useId)(),s=(0,r.useRef)(null),a=(0,r.useRef)({width:0,height:0,top:0,left:0});return(0,r.useInsertionEffect)(()=>{let{width:e,height:r,top:i,left:o}=a.current;if(t||!s.current||!e||!r)return;s.current.dataset.motionPopId=n;let l=document.createElement("style");return document.head.appendChild(l),l.sheet&&l.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${r}px !important;
            top: ${i}px !important;
            left: ${o}px !important;
          }
        `),()=>{document.head.removeChild(l)}},[t]),r.createElement(c,{isPresent:t,childRef:s,sizeRef:a},r.cloneElement(e,{ref:s}))}let d=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:i,mode:c})=>{let d=(0,l.h)(f),h=(0,r.useId)(),m=(0,r.useMemo)(()=>({id:h,initial:t,isPresent:n,custom:a,onExitComplete:e=>{for(let t of(d.set(e,!0),d.values()))if(!t)return;s&&s()},register:e=>(d.set(e,!1),()=>d.delete(e))}),i?void 0:[n]);return(0,r.useMemo)(()=>{d.forEach((e,t)=>d.set(t,!1))},[n]),r.useEffect(()=>{n||d.size||!s||s()},[n]),"popLayout"===c&&(e=r.createElement(u,{isPresent:n},e)),r.createElement(o.O.Provider,{value:m},e)};function f(){return new Map}var h=n(9755),m=n(8484);let p=e=>e.key||"",x=({children:e,custom:t,initial:n=!0,onExitComplete:o,exitBeforeEnter:l,presenceAffectsLayout:c=!0,mode:u="sync"})=>{var f;(0,m.k)(!l,"Replace exitBeforeEnter with mode='wait'");let x=(0,r.useContext)(h.p).forceRender||function(){let e=a(),[t,n]=(0,r.useState)(0),s=(0,r.useCallback)(()=>{e.current&&n(t+1)},[t]);return[(0,r.useCallback)(()=>i.Wi.postRender(s),[s]),t]}()[0],v=a(),g=function(e){let t=[];return r.Children.forEach(e,e=>{(0,r.isValidElement)(e)&&t.push(e)}),t}(e),b=g,y=(0,r.useRef)(new Map).current,w=(0,r.useRef)(b),k=(0,r.useRef)(new Map).current,E=(0,r.useRef)(!0);if((0,s.L)(()=>{E.current=!1,function(e,t){e.forEach(e=>{let n=p(e);t.set(n,e)})}(g,k),w.current=b}),f=()=>{E.current=!0,k.clear(),y.clear()},(0,r.useEffect)(()=>()=>f(),[]),E.current)return r.createElement(r.Fragment,null,b.map(e=>r.createElement(d,{key:p(e),isPresent:!0,initial:!!n&&void 0,presenceAffectsLayout:c,mode:u},e)));b=[...b];let j=w.current.map(p),N=g.map(p),C=j.length;for(let e=0;e<C;e++){let t=j[e];-1!==N.indexOf(t)||y.has(t)||y.set(t,void 0)}return"wait"===u&&y.size&&(b=[]),y.forEach((e,n)=>{if(-1!==N.indexOf(n))return;let s=k.get(n);if(!s)return;let a=j.indexOf(n),i=e;i||(i=r.createElement(d,{key:p(s),isPresent:!1,onExitComplete:()=>{y.delete(n);let e=Array.from(k.keys()).filter(e=>!N.includes(e));if(e.forEach(e=>k.delete(e)),w.current=g.filter(t=>{let r=p(t);return r===n||e.includes(r)}),!y.size){if(!1===v.current)return;x(),o&&o()}},custom:t,presenceAffectsLayout:c,mode:u},s),y.set(n,i)),b.splice(a,0,i)}),b=b.map(e=>{let t=e.key;return y.has(t)?e:r.createElement(d,{key:p(e),isPresent:!0,presenceAffectsLayout:c,mode:u},e)}),r.createElement(r.Fragment,null,y.size?b:b.map(e=>(0,r.cloneElement)(e)))}}},function(e){e.O(0,[557,822,812,170,842,744],function(){return e(e.s=2184)}),_N_E=e.O()}]);