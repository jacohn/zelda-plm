(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[634],{2008:function(e,t,i){Promise.resolve().then(i.bind(i,1030))},1030:function(e,t,i){"use strict";i.d(t,{default:function(){return m}});var s=i(9533),a=i(7203);let r=[{id:"dragon-leather-shield",when:["dragon","leather","shield"],name:"Dragon-Leather {base}",healthAdd:20,costMul:1.25,notes:"Thick dragon hide reinforcement"},{id:"blessed-steel-sword",when:["blessed","steel","sword"],name:"Blessed {base}",healthAdd:25,costMul:1.2,notes:"Sanctified alloy improves edge retention"},{id:"sanctified-alloy-sword",when:["sanctified","alloy","sword"],name:"Sanctified {base}",healthAdd:25,costMul:1.2,notes:"Consecrated alloy for keen edges"},{id:"alloy-spring-hookshot",when:["alloy","spring","hookshot"],name:"Alloy-Spring {base}",healthAdd:15,costMul:1.1,notes:"Upgraded recoil springs"},{id:"swift-light-shield",when:["swift","light","shield"],name:"Swift {base}",healthAdd:10,costMul:1.05,notes:"Lighter fittings for faster guard"},{id:"flame-sword",when:["fire","crystal","sword"],name:"Flame-Touched {base}",healthAdd:18,costMul:1.2,notes:"Fire crystal infusion"},{id:"frost-shield",when:["frost","crystal","shield"],name:"Frostguard {base}",healthAdd:16,costMul:1.15,notes:"Cold-hardened plating"},{id:"shock-hook",when:["thunder","core","hookshot"],name:"Stormwire {base}",healthAdd:14,costMul:1.1,notes:"Conductive core upgrade"},{id:"sun-armor",when:["sunshard","leather","armor"],name:"Sunleather {base}",healthAdd:22,costMul:1.2,notes:"Radiant tanning process"},{id:"night-bow",when:["nightshade","resin","bow"],name:"Nightveil {base}",healthAdd:12,costMul:1.08,notes:"Resin-damped limbs"},{id:"wind-bow",when:["wind","gem","bow"],name:"Gale {base}",healthAdd:15,costMul:1.12,notes:"Aerodynamic fletching kit"},{id:"mithril-sword",when:["mithril","ingot","sword"],name:"Mithril {base}",healthAdd:28,costMul:1.3,notes:"Light, resilient metal"},{id:"obsidian-shield",when:["obsidian","shield"],name:"Obsidian-Plate {base}",healthAdd:14,costMul:1.1,notes:"Vitrified deflection surface"},{id:"phoenix-blade",when:["phoenix","ash","sword"],name:"Phoenix {base}",healthAdd:24,costMul:1.25,notes:"Rebirth-tempered edge"},{id:"water-hook",when:["water","pearl","hookshot"],name:"Hydraline {base}",healthAdd:12,costMul:1.08,notes:"Corrosion-resistant line"},{id:"rune-tool",when:["rune","capacitor","tool"],name:"Runic {base}",healthAdd:10,costMul:1.07,notes:"Arcane assist"},{id:"silk-bow",when:["silk","string","bow"],name:"Silkstring {base}",healthAdd:10,costMul:1.06,notes:"Smooth draw and release"},{id:"hardwood-bow",when:["hardwood","grip","bow"],name:"Hardgrip {base}",healthAdd:8,costMul:1.05,notes:"Stable off-hand control"},{id:"quenched-sword",when:["quenching","oil","sword"],name:"Quenched {base}",healthAdd:14,costMul:1.08,notes:"Deep oil quench finish"},{id:"tempered-shield",when:["tempered","rivet","shield"],name:"Tempered {base}",healthAdd:12,costMul:1.07,notes:"Re-riveted bracework"},{id:"mirror-shield",when:["mirror","polish","shield"],name:"Mirror-Polished {base}",healthAdd:9,costMul:1.05,notes:"Specular parry surface"},{id:"resonance-staff",when:["resonance","crystal","staff"],name:"Harmonic {base}",healthAdd:16,costMul:1.12,notes:"Synchronised channeling focus"}];function n(e){let t=e.toLowerCase();return r.filter(e=>e.when.every(e=>t.includes(e)))}var o=i(1229),l=i(7822),c=i(1790),d=i(1198),p=i(1250);function h(e){let t=e[0],i=e.slice(1),s=new Set,a=(e,t)=>{e&&s.add(t)},r=i.map(e=>"".concat(e.name," ").concat(e.description)).join(" ").toLowerCase();a(/dragon/.test(r),"Dragon"),a(/leather/.test(r),"Leather"),a(/blessed|sacred|sanctified/.test(r),"Blessed"),a(/reinforc|strap/.test(r),"Reinforced"),a(/spring|alloy/.test(r),"Alloyed"),a(/light|swift/.test(r),"Swift");let o=Array.from(s),l=o.length?"".concat(o.join(" ")," ").concat(t.name):"".concat(t.name," Mk II"),c=function(e){let t=/Rev\s+([A-Z])/i.exec(e);if(!t)return"Rev B";let i=String.fromCharCode(Math.min(90,t[1].toUpperCase().charCodeAt(0)+1));return"Rev ".concat(i)}(t.revision),d=Math.round(t.cost+.3*i.reduce((e,t)=>e+t.cost,0)),p=Math.min(100,Math.max(20,t.health_pct+12*i.length)),h="".concat(t.name," ").concat(t.description," ").concat(t.type).toLowerCase(),m=n("".concat(h," ").concat(r))[0];return m&&(l=m.name.replace("{base}",t.name),m.healthAdd&&(p=Math.min(100,p+m.healthAdd)),m.costMul&&(d=Math.round(d*m.costMul))),{...t,id:"".concat(t.id,"-VAR-").concat(i.length),name:l,revision:c,supplier:"Sacred Forge",description:"Forged from ".concat(t.name," with ").concat(i.map(e=>e.name).join(", "),"."),cost:d,health_pct:p,notes:"Variant preview (not persisted)"}}function m(){let e=a.g.items,t=(0,p.useRouter)(),i=(0,p.useSearchParams)(),[r,m]=(0,o.useState)({items:[],forging:!1}),[u,f]=(0,o.useState)([]),[g,v]=(0,o.useState)([]),[y,x]=(0,o.useState)(),w=(0,o.useRef)(null),A=(0,o.useRef)(null),[b,R]=(0,o.useState)(""),[S,M]=(0,o.useState)("all"),j=(0,o.useMemo)(()=>Array.from(new Set(e.map(e=>e.type))).sort(),[e]),C=(0,o.useMemo)(()=>{let t=b.trim().toLowerCase();return e.filter(e=>("all"===S||e.type===S)&&(""===t||"".concat(e.name," ").concat(e.description," ").concat(e.notes).toLowerCase().includes(t)))},[e,b,S]),N=r.items.length<6,k=r.items.length>=2,_=(0,o.useMemo)(()=>r.items.length>=2?h(r.items):void 0,[r.items]),E=(0,o.useMemo)(()=>{if(!r.items.length)return[];let e=r.items[0],t="".concat(e.name," ").concat(e.description," ").concat(e.type).toLowerCase(),i=r.items.slice(1).map(e=>"".concat(e.name," ").concat(e.description)).join(" ").toLowerCase(),s="".concat(t," ").concat(i);return n(s).slice(0,4).map(t=>({id:t.id,name:t.name.replace("{base}",e.name),ready:t.when.every(e=>s.includes(e)),notes:t.notes}))},[r.items]),P=e=>{var t;N&&(null===(t=A.current)||void 0===t||t.play().catch(()=>{}),m(t=>({...t,items:[...t.items,e]})))},D=e=>m(t=>({...t,items:t.items.filter((t,i)=>i!==e)})),H=async()=>{var e,t;if(!k)return;m(e=>({...e,forging:!0,result:void 0})),await new Promise(e=>setTimeout(e,1200));let i=h(r.items);null===(e=w.current)||void 0===e||e.play().catch(()=>{}),m(e=>({items:[],forging:!1,result:i})),function(e,t,i,s,r,n){let o=[{id:"V".concat(Date.now().toString().slice(-6)),type:"Variant",title:e.name,description:e.description,affected_item:t,from_rev:"—",to_rev:e.revision,rationale:"Forged in ritual",status:"Completed"},...i];s(o);try{localStorage.setItem("ff_changes",JSON.stringify(o))}catch(e){}let l={year:Math.max(0,...a.g.adventure_log.map(e=>e.year),...r.map(e=>e.year))+1,entry:"Forged ".concat(e.name," → ").concat(e.revision,".")},c=[...r,l];n(c);try{localStorage.setItem("ff_log",JSON.stringify(c))}catch(e){}}(i,(null===(t=r.items[0])||void 0===t?void 0:t.id)||i.id,u,f,g,v);try{let e=r.items[0],t="".concat(e.name," ").concat(e.description," ").concat(e.type).toLowerCase(),i=r.items.slice(1).map(e=>"".concat(e.name," ").concat(e.description)).join(" ").toLowerCase(),s="".concat(t," ").concat(i),a=n(s)[0];if(a){let t="Recipe discovered: ".concat(a.name.replace("{base}",e.name));x(t),setTimeout(()=>x(void 0),2500)}}catch(e){}},I=(e,t)=>{try{var i;null===(i=e.dataTransfer)||void 0===i||i.setData("text/plain",t.id)}catch(e){}},F=t=>{var i,s,a;null===(i=t.preventDefault)||void 0===i||i.call(t);let r=null===(a=t.dataTransfer)||void 0===a?void 0:null===(s=a.getData)||void 0===s?void 0:s.call(a,"text/plain"),n=e.find(e=>e.id===r);n&&P(n)},L=e=>{var t;null===(t=e.preventDefault)||void 0===t||t.call(e)},[O,G]=(0,o.useState)("inventory"),[T,B]=(0,o.useState)(0),V=C.length;return(0,d.D)(e=>{if("left"===e)B(e=>Math.max(0,e-1));else if("right"===e){let e="inventory"===O?V-1:5;B(t=>Math.min(e,t+1))}else"up"===e?(G(e=>"inventory"===e?"forge":"forge"===e?"pot":"inventory"),B(0)):"down"===e?(G(e=>"inventory"===e?"pot":"pot"===e?"forge":"inventory"),B(0)):"confirm"===e?"inventory"===O?P(C[T]):"pot"===O?D(T):"forge"===O&&H():"back"===e&&"pot"===O&&r.items[T]&&D(T)}),(0,o.useEffect)(()=>{try{let e=JSON.parse(localStorage.getItem("ff_changes")||"[]"),t=JSON.parse(localStorage.getItem("ff_log")||"[]");f(e),v(t)}catch(e){}},[]),(0,o.useEffect)(()=>{let s=i.get("base");if(!s)return;let a=e.find(e=>e.id===s);a&&m(e=>e.items.length?e:{...e,items:[a]}),t.replace("/forge")},[]),(0,o.useEffect)(()=>{"inventory"===O&&B(e=>Math.min(Math.max(0,e),Math.max(0,V-1)))},[V,O]),(0,s.jsxs)("div",{className:"card p-4",children:[(0,s.jsx)("audio",{ref:w,src:"/sfx/success.wav",preload:"auto"}),(0,s.jsx)("audio",{ref:A,src:"/sfx/select.wav",preload:"auto"}),(0,s.jsx)("h3",{className:"font-display text-2xl",children:"Forge Ritual"}),(0,s.jsxs)("div",{className:"mt-4 grid lg:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{className:"glass p-3 rounded-2xl",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h4",{className:"font-display text-xl",children:"Inventory"}),(0,s.jsxs)("div",{className:"text-sm opacity-70",children:[C.length,"/",e.length," items"]})]}),(0,s.jsxs)("div",{className:"mt-2 flex gap-2",children:[(0,s.jsx)("input",{className:"card px-3 py-2 w-full",placeholder:"Search name, description, notes",value:b,onChange:e=>R(e.target.value)}),(0,s.jsxs)("select",{className:"card px-2 py-2 min-w-[8rem]",value:S,onChange:e=>M(e.target.value),children:[(0,s.jsx)("option",{value:"all",children:"All types"}),j.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]}),(0,s.jsx)("div",{className:"mt-2 grid sm:grid-cols-2 gap-2",children:C.map((e,t)=>(0,s.jsxs)(l.E.button,{whileHover:{scale:1.02},onClick:()=>P(e),className:"card p-2 text-left ".concat("inventory"===O&&T===t?"ring-2 ring-gold":""),draggable:!0,onDragStart:t=>I(t,e),disabled:!N,children:[(0,s.jsxs)("div",{className:"text-sm opacity-70",children:[e.type," • ",e.revision]}),(0,s.jsx)("div",{className:"font-semibold",children:e.name}),(0,s.jsx)("div",{className:"text-xs opacity-80 line-clamp-2",children:e.description})]},e.id))})]}),(0,s.jsxs)("div",{className:"col-span-2",children:[(0,s.jsxs)("div",{className:"glass p-4 rounded-2xl",children:[(0,s.jsx)("h4",{className:"font-display text-xl mb-2",children:"Combine Components"}),(0,s.jsxs)("div",{id:"combine-area",className:"relative rounded-2xl p-6 border border-white/10 overflow-hidden",style:{background:"radial-gradient(120px 80px at 50% 60%, rgba(201,162,39,0.15), transparent 70%), linear-gradient(180deg, rgba(10,20,28,0.7), rgba(10,20,28,0.9))"},children:[(0,s.jsx)("div",{className:"grid grid-cols-2 gap-2",children:Array.from({length:6}).map((e,t)=>{let i=r.items[t];return(0,s.jsxs)("div",{className:"tile tile-rect px-2 py-2 ".concat("pot"===O&&T===t?"ring-2 ring-gold":""),onDragOver:L,onDrop:F,children:[(0,s.jsx)("div",{className:"corner tl"}),(0,s.jsx)("div",{className:"corner tr"}),(0,s.jsx)("div",{className:"corner bl"}),(0,s.jsx)("div",{className:"corner br"}),i?(0,s.jsxs)("button",{onClick:()=>D(t),className:"text-center w-full",children:[(0,s.jsxs)("div",{className:"text-xs opacity-70 truncate",children:[i.type," • ",i.revision]}),(0,s.jsx)("div",{className:"font-semibold text-sm leading-tight line-clamp-2 break-words px-1",children:i.name})]}):(0,s.jsx)("div",{className:"opacity-40 text-sm",children:"Empty"})]},t)})}),(0,s.jsxs)("div",{className:"mt-4 flex items-center gap-2",children:[(0,s.jsx)(l.E.button,{whileHover:{scale:k?1.03:1},whileTap:{scale:k?.98:1},onClick:H,disabled:!k||r.forging,className:"card px-4 py-2 ".concat("forge"===O?"ring-2 ring-gold":""," ").concat(!k||r.forging?"opacity-60":""),children:r.forging?"Forging…":"Start Forge"}),(0,s.jsx)("div",{className:"text-sm opacity-70",children:"Add 2–6 items, then forge"})]}),(0,s.jsxs)("div",{className:"mt-3 text-sm",children:[(0,s.jsx)("div",{className:"opacity-70 mb-1",children:"Recipe hints"}),0===r.items.length?(0,s.jsx)("div",{className:"opacity-70",children:"Select a base item to see relevant recipes."}):E.length?(0,s.jsx)("ul",{className:"grid sm:grid-cols-2 gap-2",children:E.map(e=>(0,s.jsxs)("li",{className:"card p-2 ".concat(e.ready?"ring-2 ring-gold":""),children:[(0,s.jsx)("div",{className:"font-semibold",children:e.name}),e.notes&&(0,s.jsx)("div",{className:"opacity-80",children:e.notes})]},e.id))}):(0,s.jsx)("div",{className:"opacity-70",children:"No matching recipes yet — try different materials."})]}),(0,s.jsx)(c.M,{children:r.forging&&(0,s.jsx)(l.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"pointer-events-none absolute inset-0 flex items-end justify-center",children:[...Array(8)].map((e,t)=>(0,s.jsx)(l.E.div,{initial:{y:0,opacity:0},animate:{y:-120-6*t,opacity:[0,1,0]},transition:{duration:1.1+.05*t,repeat:1/0,delay:.06*t},style:{width:10+t%3*4,height:10+t%3*4,margin:"0 6px",borderRadius:9999,background:t%2?"rgba(120,183,195,0.5)":"rgba(201,162,39,0.5)",boxShadow:"0 0 12px rgba(201,162,39,0.6)"}},t))})}),(0,s.jsx)(c.M,{children:y&&(0,s.jsx)(l.E.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},className:"absolute left-1/2 -translate-x-1/2 top-3 card px-3 py-1 text-sm",children:y})})]})]}),(0,s.jsxs)("div",{className:"mt-4 grid md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"card p-3",children:[(0,s.jsx)("h4",{className:"font-display",children:"Preview"}),_?(0,s.jsxs)("ul",{className:"text-sm mt-2",children:[(0,s.jsxs)("li",{children:[(0,s.jsx)("span",{className:"opacity-70",children:"Name:"})," ",_.name]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("span",{className:"opacity-70",children:"Revision:"})," ",_.revision]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("span",{className:"opacity-70",children:"Cost:"})," ",_.cost]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("span",{className:"opacity-70",children:"Health:"})," ",_.health_pct,"%"]}),(0,s.jsx)("li",{className:"opacity-80 line-clamp-2",children:_.description})]}):(0,s.jsx)("div",{className:"text-sm opacity-70 mt-2",children:"Add items to see a preview"})]}),(0,s.jsxs)("div",{className:"card p-3",children:[(0,s.jsx)("h4",{className:"font-display",children:"Result"}),r.result?(0,s.jsxs)("div",{className:"mt-2",children:[(0,s.jsxs)("div",{className:"text-sm opacity-70",children:[r.result.type," • ",r.result.revision]}),(0,s.jsx)("div",{className:"font-semibold",children:r.result.name}),(0,s.jsx)("div",{className:"text-sm opacity-80",children:r.result.description})]}):(0,s.jsx)("div",{className:"text-sm opacity-70 mt-2",children:"Forge to create a variant"})]})]}),(0,s.jsxs)("div",{className:"mt-4 card p-3",children:[(0,s.jsx)("h4",{className:"font-display",children:"Changes"}),u.length?(0,s.jsx)("ul",{className:"mt-2 text-sm space-y-1",children:u.map(e=>{var t;return(0,s.jsxs)("li",{className:"bg-white/60 text-temple rounded p-2",children:[(0,s.jsx)("span",{className:"font-semibold",children:e.title})," → ",e.to_rev,(0,s.jsxs)("span",{className:"opacity-70",children:[" • Affected: ",(null===(t=a.g.items.find(t=>t.id===e.affected_item))||void 0===t?void 0:t.name)||e.affected_item]})]},e.id)})}):(0,s.jsx)("div",{className:"text-sm opacity-70 mt-2",children:"No local changes yet"})]})]})]})]})}},1198:function(e,t,i){"use strict";i.d(t,{D:function(){return r}});var s=i(1229);let a={9:"system",4:"inventory",5:"quests",7:"forge",0:"confirm",1:"back",12:"up",13:"down",14:"left",15:"right"};function r(e){let t=(0,s.useRef)(),i=(0,s.useRef)({});(0,s.useEffect)(()=>{let s=()=>{var r,n;let o=((null===(r=(n=navigator).getGamepads)||void 0===r?void 0:r.call(n))||[])[0];o&&o.buttons.forEach((t,s)=>{let r=!0===i.current[s];if(t.pressed&&!r){let t=a[s];t&&e(t)}i.current[s]=t.pressed}),t.current=requestAnimationFrame(s)};return t.current=requestAnimationFrame(s),()=>cancelAnimationFrame(t.current||0)},[e])}},7203:function(e,t,i){"use strict";i.d(t,{g:function(){return s}});let s=JSON.parse('{"items":[{"id":"I001","name":"Master Sword","type":"weapon","revision":"Rev A","description":"Legendary blade, alloy steel","status":"Active","supplier":"Blacksmith Guild","cost":5000,"health_pct":40,"notes":"Dulls quickly"},{"id":"I001R2","name":"Master Sword","type":"weapon","revision":"Rev B","description":"Alloy change to blessed steel","status":"Active","supplier":"Sacred Forge","cost":7000,"health_pct":70,"notes":"Stronger but costly"},{"id":"I002","name":"Hylian Shield","type":"shield","revision":"Rev A","description":"Base iron shield","status":"Obsolete","supplier":"Hyrule Smithy","cost":200,"health_pct":20,"notes":"Straps weak"},{"id":"I002R3","name":"Hylian Shield","type":"shield","revision":"Rev C","description":"Reinforced straps, dragon leather","status":"Active","supplier":"Goron Tanners","cost":350,"health_pct":85,"notes":"Durable straps"},{"id":"I003","name":"Hookshot","type":"tool","revision":"Rev A","description":"Grappling tool, spring-loaded","status":"Active","supplier":"Sheikah Engineers","cost":1200,"health_pct":50,"notes":"Springs wear down"},{"id":"M101","name":"Dragon Leather","type":"material","revision":"Rev A","description":"Tough hide from ancient drakes","status":"Active","supplier":"Goron Tanners","cost":120,"health_pct":0,"notes":"Heat-treated"},{"id":"M102","name":"Blessed Steel Ingot","type":"material","revision":"Rev A","description":"Steel sanctified by temple rites","status":"Active","supplier":"Sacred Forge","cost":300,"health_pct":0,"notes":"High purity"},{"id":"M102B","name":"Sanctified Alloy Ingot","type":"material","revision":"Rev A","description":"Consecrated alloy for sanctified tempering","status":"Active","supplier":"Sacred Forge","cost":320,"health_pct":0,"notes":"Sanctified alloy"},{"id":"M103","name":"Alloy Spring","type":"component","revision":"Rev A","description":"High-tension spring of rare alloy","status":"Active","supplier":"Sheikah Engineers","cost":90,"health_pct":0,"notes":"Resilient"},{"id":"M104","name":"Swift Feather","type":"material","revision":"Rev A","description":"Lightweight feather for speed","status":"Active","supplier":"Aerie Traders","cost":40,"health_pct":0,"notes":"Airy"},{"id":"M105","name":"Fire Crystal","type":"material","revision":"Rev A","description":"Crystal that radiates warmth","status":"Active","supplier":"Volcano Miners","cost":180,"health_pct":0,"notes":"Fiery"},{"id":"M106","name":"Frost Crystal","type":"material","revision":"Rev A","description":"Crystal that chills the air","status":"Active","supplier":"Ice Quarry","cost":170,"health_pct":0,"notes":"Frigid"},{"id":"M107","name":"Thunder Core","type":"component","revision":"Rev A","description":"Compact capacitor of storm energy","status":"Active","supplier":"Skywrights","cost":210,"health_pct":0,"notes":"Conductive"},{"id":"M108","name":"Sunshard Crystal","type":"material","revision":"Rev A","description":"Radiant shard with solar charge","status":"Active","supplier":"Desert Delvers","cost":160,"health_pct":0,"notes":"Bright"},{"id":"M109","name":"Nightshade Resin","type":"material","revision":"Rev A","description":"Dark resin, dampens vibration","status":"Active","supplier":"Duskmire Gatherers","cost":75,"health_pct":0,"notes":"Damping"},{"id":"M110","name":"Obsidian Chunk","type":"material","revision":"Rev A","description":"Glossy volcanic glass shard","status":"Active","supplier":"Volcano Miners","cost":95,"health_pct":0,"notes":"Hard"},{"id":"M111","name":"Mithril Ingot","type":"material","revision":"Rev A","description":"Rare, light metal bar","status":"Active","supplier":"Deepforge","cost":400,"health_pct":0,"notes":"Resilient"},{"id":"M112","name":"Dragon Scale","type":"material","revision":"Rev A","description":"Armored scale from a wyrm","status":"Active","supplier":"Goron Tanners","cost":220,"health_pct":0,"notes":"Protective"},{"id":"M113","name":"Phoenix Ash","type":"material","revision":"Rev A","description":"Ash imbued with rebirth heat","status":"Active","supplier":"Ashen Alchemists","cost":260,"health_pct":0,"notes":"Kindled"},{"id":"M114","name":"Wind Gem","type":"material","revision":"Rev A","description":"Gem humming with wind","status":"Active","supplier":"Skywrights","cost":150,"health_pct":0,"notes":"Light"},{"id":"M115","name":"Water Pearl","type":"material","revision":"Rev A","description":"Pearl slick with water magic","status":"Active","supplier":"Riverfolk","cost":140,"health_pct":0,"notes":"Slick"},{"id":"M116","name":"Rune Capacitor","type":"component","revision":"Rev A","description":"Stores arcane charge for tools","status":"Active","supplier":"Sheikah Engineers","cost":180,"health_pct":0,"notes":"Runic"},{"id":"M117","name":"Silk String","type":"component","revision":"Rev A","description":"Fine silk string for precise bows","status":"Active","supplier":"Aerie Traders","cost":35,"health_pct":0,"notes":"Silk string"},{"id":"M118","name":"Hardwood Grip","type":"component","revision":"Rev A","description":"Shaped hardwood bow grip","status":"Active","supplier":"Highland Woodworks","cost":55,"health_pct":0,"notes":"Hardwood grip"},{"id":"M119","name":"Quenching Oil","type":"material","revision":"Rev A","description":"Oil for deep blade quench","status":"Active","supplier":"Desert Delvers","cost":28,"health_pct":0,"notes":"Quenching oil"},{"id":"M120","name":"Tempered Rivet Pack","type":"component","revision":"Rev A","description":"Heat-tempered rivets for shields","status":"Active","supplier":"Blacksmith Guild","cost":24,"health_pct":0,"notes":"Tempered rivet"},{"id":"M121","name":"Mirror Polish","type":"material","revision":"Rev A","description":"High specular polish compound","status":"Active","supplier":"Riverfolk","cost":18,"health_pct":0,"notes":"Mirror polish"},{"id":"M122","name":"Resonance Crystal","type":"material","revision":"Rev A","description":"Crystal tuned for arcane resonance","status":"Active","supplier":"Arcane Collegium","cost":130,"health_pct":0,"notes":"Resonance crystal"},{"id":"G201","name":"Longbow","type":"weapon","revision":"Rev A","description":"Tall bow with strong draw","status":"Active","supplier":"Aerie Traders","cost":350,"health_pct":55,"notes":"Stable arc"},{"id":"G202","name":"Mage Staff","type":"tool","revision":"Rev A","description":"Staff for channeling energy","status":"Active","supplier":"Arcane Collegium","cost":800,"health_pct":60,"notes":"Focus crystal"},{"id":"G203","name":"Travel Boots","type":"gear","revision":"Rev A","description":"Leather boots for long treks","status":"Active","supplier":"Highland Cobblers","cost":120,"health_pct":40,"notes":"Worn soles"}],"requests":[{"id":"R101","title":"Villagers complain straps breaking","description":"Shields failing during patrol","origin":"Villager Council","priority":"High","linked_item":"I002","status":"Closed"},{"id":"R102","title":"Sword dulls too fast","description":"Alloy not holding edge","origin":"Royal Guard","priority":"High","linked_item":"I001","status":"Closed"},{"id":"R103","title":"Hookshot spring weak","description":"Soldiers stuck mid-mission","origin":"Field Scouts","priority":"Medium","linked_item":"I003","status":"Open"},{"id":"R104","title":"Demand for lighter shields","description":"Guards request faster mobility","origin":"Guard Captain","priority":"Medium","linked_item":"I002","status":"Open"}],"changes":[{"id":"C001","type":"ECO","title":"Reinforce shield straps","description":"Add leather reinforcement","affected_item":"I002","from_rev":"Rev A","to_rev":"Rev B","rationale":"Respond to ticket R101","status":"Completed"},{"id":"C002","type":"ECO","title":"Alloy upgrade for Master Sword","description":"Switch to blessed steel","affected_item":"I001","from_rev":"Rev A","to_rev":"Rev B","rationale":"Respond to ticket R102","status":"Completed"},{"id":"C003","type":"Variant","title":"Dragon leather shield straps","description":"Strap variant using dragon leather","affected_item":"I002","from_rev":"Rev B","to_rev":"Rev C","rationale":"Strengthen durability further","status":"Completed"},{"id":"C004","type":"ECO","title":"Hookshot spring replacement","description":"Stronger Sheikah alloy springs","affected_item":"I003","from_rev":"Rev A","to_rev":"Rev B","rationale":"Respond to ticket R103","status":"Proposed"}],"adventure_log":[{"year":1,"entry":"Villagers reported straps breaking (R101). ECO C001 reinforced straps → Hylian Shield Rev B."},{"year":2,"entry":"Royal Guard complained Master Sword dulls (R102). ECO C002 upgraded alloy → Master Sword Rev B."},{"year":3,"entry":"Goron Tanners introduced dragon leather (C003). Hylian Shield Rev C created."},{"year":4,"entry":"Scouts noted Hookshot failure in caves (R103). ECO C004 proposed spring alloy upgrade (pending)."},{"year":5,"entry":"Guard Captain requested lighter shield variant (R104). Awaiting design."}]}')},1250:function(e,t,i){"use strict";var s=i(7797);i.o(s,"usePathname")&&i.d(t,{usePathname:function(){return s.usePathname}}),i.o(s,"useRouter")&&i.d(t,{useRouter:function(){return s.useRouter}}),i.o(s,"useSearchParams")&&i.d(t,{useSearchParams:function(){return s.useSearchParams}})},1790:function(e,t,i){"use strict";i.d(t,{M:function(){return g}});var s=i(1229),a=i(6310);function r(){let e=(0,s.useRef)(!1);return(0,a.L)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var n=i(2686),o=i(6714),l=i(634);class c extends s.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function d({children:e,isPresent:t}){let i=(0,s.useId)(),a=(0,s.useRef)(null),r=(0,s.useRef)({width:0,height:0,top:0,left:0});return(0,s.useInsertionEffect)(()=>{let{width:e,height:s,top:n,left:o}=r.current;if(t||!a.current||!e||!s)return;a.current.dataset.motionPopId=i;let l=document.createElement("style");return document.head.appendChild(l),l.sheet&&l.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${s}px !important;
            top: ${n}px !important;
            left: ${o}px !important;
          }
        `),()=>{document.head.removeChild(l)}},[t]),s.createElement(c,{isPresent:t,childRef:a,sizeRef:r},s.cloneElement(e,{ref:a}))}let p=({children:e,initial:t,isPresent:i,onExitComplete:a,custom:r,presenceAffectsLayout:n,mode:c})=>{let p=(0,l.h)(h),m=(0,s.useId)(),u=(0,s.useMemo)(()=>({id:m,initial:t,isPresent:i,custom:r,onExitComplete:e=>{for(let t of(p.set(e,!0),p.values()))if(!t)return;a&&a()},register:e=>(p.set(e,!1),()=>p.delete(e))}),n?void 0:[i]);return(0,s.useMemo)(()=>{p.forEach((e,t)=>p.set(t,!1))},[i]),s.useEffect(()=>{i||p.size||!a||a()},[i]),"popLayout"===c&&(e=s.createElement(d,{isPresent:i},e)),s.createElement(o.O.Provider,{value:u},e)};function h(){return new Map}var m=i(9755),u=i(8484);let f=e=>e.key||"",g=({children:e,custom:t,initial:i=!0,onExitComplete:o,exitBeforeEnter:l,presenceAffectsLayout:c=!0,mode:d="sync"})=>{var h;(0,u.k)(!l,"Replace exitBeforeEnter with mode='wait'");let g=(0,s.useContext)(m.p).forceRender||function(){let e=r(),[t,i]=(0,s.useState)(0),a=(0,s.useCallback)(()=>{e.current&&i(t+1)},[t]);return[(0,s.useCallback)(()=>n.Wi.postRender(a),[a]),t]}()[0],v=r(),y=function(e){let t=[];return s.Children.forEach(e,e=>{(0,s.isValidElement)(e)&&t.push(e)}),t}(e),x=y,w=(0,s.useRef)(new Map).current,A=(0,s.useRef)(x),b=(0,s.useRef)(new Map).current,R=(0,s.useRef)(!0);if((0,a.L)(()=>{R.current=!1,function(e,t){e.forEach(e=>{let i=f(e);t.set(i,e)})}(y,b),A.current=x}),h=()=>{R.current=!0,b.clear(),w.clear()},(0,s.useEffect)(()=>()=>h(),[]),R.current)return s.createElement(s.Fragment,null,x.map(e=>s.createElement(p,{key:f(e),isPresent:!0,initial:!!i&&void 0,presenceAffectsLayout:c,mode:d},e)));x=[...x];let S=A.current.map(f),M=y.map(f),j=S.length;for(let e=0;e<j;e++){let t=S[e];-1!==M.indexOf(t)||w.has(t)||w.set(t,void 0)}return"wait"===d&&w.size&&(x=[]),w.forEach((e,i)=>{if(-1!==M.indexOf(i))return;let a=b.get(i);if(!a)return;let r=S.indexOf(i),n=e;n||(n=s.createElement(p,{key:f(a),isPresent:!1,onExitComplete:()=>{w.delete(i);let e=Array.from(b.keys()).filter(e=>!M.includes(e));if(e.forEach(e=>b.delete(e)),A.current=y.filter(t=>{let s=f(t);return s===i||e.includes(s)}),!w.size){if(!1===v.current)return;g(),o&&o()}},custom:t,presenceAffectsLayout:c,mode:d},a),w.set(i,n)),x.splice(r,0,n)}),x=x.map(e=>{let t=e.key;return w.has(t)?e:s.createElement(p,{key:f(e),isPresent:!0,presenceAffectsLayout:c,mode:d},e)}),s.createElement(s.Fragment,null,w.size?x:x.map(e=>(0,s.cloneElement)(e)))}}},function(e){e.O(0,[822,170,842,744],function(){return e(e.s=2008)}),_N_E=e.O()}]);