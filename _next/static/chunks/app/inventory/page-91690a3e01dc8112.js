(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[268],{3887:function(e,t,s){Promise.resolve().then(s.bind(s,5702))},5702:function(e,t,s){"use strict";s.d(t,{default:function(){return w}});var i=s(9533),r=s(1229),a=s(1250),n=s(7203),o=s(7822),l=s(1198);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),d=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&s.indexOf(e)===t).join(" ")};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var p={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let h=(0,r.forwardRef)((e,t)=>{let{color:s="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:n,className:o="",children:l,iconNode:c,...h}=e;return(0,r.createElement)("svg",{ref:t,...p,width:i,height:i,stroke:s,strokeWidth:n?24*Number(a)/Number(i):a,className:d("lucide",o),...h},[...c.map(e=>{let[t,s]=e;return(0,r.createElement)(t,s)}),...Array.isArray(l)?l:[l]])}),u=(e,t)=>{let s=(0,r.forwardRef)((s,i)=>{let{className:a,...n}=s;return(0,r.createElement)(h,{ref:i,iconNode:t,className:d("lucide-".concat(c(e)),a),...n})});return s.displayName="".concat(e),s},m=u("Sword",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]]),v=u("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),g=u("Hammer",[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]]),y=u("Apple",[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]]),f=u("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),A=u("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),x=u("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);function w(){let e=(0,a.useRouter)(),[t,s]=(0,r.useState)("all"),c=n.g.items,d=(0,r.useMemo)(()=>Array.from(new Set(c.map(e=>e.type))).sort(),[c]),p=(0,r.useMemo)(()=>c.filter(e=>"all"===t||e.type===t),[c,t]),[h,u]=(0,r.useState)(0),[w,k]=(0,r.useState)(new Set),R=(0,r.useRef)(null);(0,r.useEffect)(()=>{u(0)},[t]);let b=(e,t)=>{let s=Math.ceil(p.length/5),i=h%5,r=5*Math.max(0,Math.min(s-1,Math.floor(h/5)+t))+Math.max(0,Math.min(4,i+e));r>=p.length&&(r=p.length-1),u(r)},S=()=>{let e=p[h];e&&k(t=>{let s=new Set(t);return s.has(e.id)?s.delete(e.id):s.size<5&&s.add(e.id),s})},C=()=>{let e=["all",...d];s(t=>e[(e.indexOf(t)+1)%e.length])},_=()=>{let e=["all",...d];s(t=>e[(e.indexOf(t)-1+e.length)%e.length])};(0,r.useEffect)(()=>{let e=e=>{var t,i;if((null===(i=e.target)||void 0===i?void 0:null===(t=i.tagName)||void 0===t?void 0:t.toLowerCase())!=="input")switch(e.key){case"ArrowLeft":case"a":case"A":b(-1,0);break;case"ArrowRight":case"d":case"D":b(1,0);break;case"ArrowUp":case"w":case"W":b(0,-1);break;case"ArrowDown":case"s":case"S":b(0,1);break;case"Enter":case" ":S();break;case"1":s("all");break;case"2":s(d[0]||"all");break;case"3":s(d[1]||"all");break;case"4":s(d[2]||"all");break;case"5":s(d[3]||d[0]||"all");break;case"6":s(d[4]||d[0]||"all");break;case"Tab":e.preventDefault(),e.shiftKey?_():C()}};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[h,p.length]),(0,l.D)(e=>{"left"===e?b(-1,0):"right"===e?b(1,0):"up"===e?b(0,-1):"down"===e?b(0,1):"confirm"===e?S():"back"===e&&k(new Set)});let M=p[h];return(0,i.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,i.jsxs)("div",{className:"lg:col-span-2",children:[(0,i.jsxs)("div",{className:"glass px-3 py-2 flex items-center gap-2 mb-3 flex-wrap",children:[(0,i.jsx)("button",{onClick:()=>s("all"),className:"card px-3 py-1 ".concat("all"===t?"ring-2 ring-gold":""),children:"All"}),d.map(e=>(0,i.jsxs)("button",{onClick:()=>s(e),className:"card px-3 py-1 flex items-center gap-1 ".concat(t===e?"ring-2 ring-gold":""),children:["weapon"===e?(0,i.jsx)(m,{size:16}):"shield"===e?(0,i.jsx)(v,{size:16}):"tool"===e?(0,i.jsx)(g,{size:16}):(0,i.jsx)(y,{size:16})," ",e.charAt(0).toUpperCase()+e.slice(1)]},e)),(0,i.jsxs)("span",{className:"ml-auto text-sm opacity-80",children:["Can hold ",w.size," / 5"]}),(0,i.jsx)("span",{className:"text-xs opacity-70",children:"Tab to switch"})]}),(0,i.jsxs)("div",{id:"inventory-grid",ref:R,className:"glass p-3 grid grid-cols-5 gap-3 relative",children:[h%5==0&&p.length>0&&(0,i.jsx)(f,{className:"absolute left-1 top-1/2 -translate-y-1/2 opacity-60"}),h%5==4&&p.length>0&&(0,i.jsx)(A,{className:"absolute right-1 top-1/2 -translate-y-1/2 opacity-60"}),p.map((e,t)=>{let s=t===h,r=w.has(e.id);return(0,i.jsxs)(o.E.button,{whileHover:{scale:1.02},onMouseEnter:()=>u(t),onClick:S,className:"tile text-center ".concat(s?"ring-2 ring-rune shadow-soft":""),children:[(0,i.jsx)("div",{className:"opacity-90",children:"weapon"===e.type?(0,i.jsx)(m,{size:20}):"shield"===e.type?(0,i.jsx)(v,{size:20}):"tool"===e.type?(0,i.jsx)(g,{size:20}):(0,i.jsx)(y,{size:20})}),(0,i.jsx)("div",{className:"absolute bottom-1 right-1 text-xs bg-temple/60 px-1 rounded",children:"x1"}),(0,i.jsx)("div",{className:"absolute top-1 left-1 flex gap-0.5 opacity-90",children:Array.from({length:Math.max(1,Math.round((e.health_pct||0)/20))}).map((e,t)=>(0,i.jsx)(x,{size:10,className:"fill-gold text-gold"},t))}),s&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{className:"corner tl"}),(0,i.jsx)("span",{className:"corner tr"}),(0,i.jsx)("span",{className:"corner bl"}),(0,i.jsx)("span",{className:"corner br"})]}),r&&(0,i.jsx)("div",{className:"absolute inset-1 border-2 border-gold rounded pointer-events-none"})]},e.id)})]})]}),(0,i.jsxs)("div",{id:"inventory-details",className:"glass p-4",children:[M?(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"font-display text-2xl",children:M.name}),(0,i.jsx)("p",{className:"mt-2 opacity-90",children:M.description}),(0,i.jsxs)("div",{className:"mt-3 text-sm opacity-80",children:["Type: ",M.type," • ",(e=>{var t;let s=/rev\s*([a-z])/i.exec(e);return s?"rev ".concat(s[1]):(null==e?void 0:null===(t=e.toLowerCase)||void 0===t?void 0:t.call(e))||String(e)})(M.revision)]}),(0,i.jsxs)("div",{className:"mt-2 text-sm opacity-80",children:["Supplier: ",M.supplier," • Cost: ",M.cost]}),(0,i.jsx)("div",{className:"mt-3 h-2 bg-white/10 rounded-full overflow-hidden",children:(0,i.jsx)("div",{className:"h-full bg-rune",style:{width:"".concat(M.health_pct,"%")}})}),(0,i.jsxs)("div",{className:"mt-4",children:[(0,i.jsxs)("div",{className:"text-sm opacity-80 mb-2",children:["Holding ",w.size," / 5"]}),(0,i.jsxs)("div",{className:"flex flex-wrap gap-2 text-sm",children:[(0,i.jsx)("button",{onClick:S,className:"card px-3 py-1",children:"Add"}),(0,i.jsx)("button",{onClick:()=>k(new Set),className:"card px-3 py-1",children:"Stop holding"}),(0,i.jsx)("button",{className:"card px-3 py-1",onClick:()=>e.push("/forge?base=".concat(encodeURIComponent(M.id))),children:"Open in ECO"})]})]})]}):(0,i.jsx)("p",{className:"opacity-80",children:"Select an item…"}),(0,i.jsx)("div",{className:"mt-6 border-t border-white/10 pt-3 text-xs opacity-80",children:"Hints: Enter/A Add • B/Backspace Clear • 1‑4 tabs • Tab next tab • Arrows/WASD/D‑pad move"})]})]})}},1198:function(e,t,s){"use strict";s.d(t,{D:function(){return a}});var i=s(1229);let r={9:"system",4:"inventory",5:"quests",7:"forge",0:"confirm",1:"back",12:"up",13:"down",14:"left",15:"right"};function a(e){let t=(0,i.useRef)(),s=(0,i.useRef)({});(0,i.useEffect)(()=>{let i=()=>{var a,n;let o=((null===(a=(n=navigator).getGamepads)||void 0===a?void 0:a.call(n))||[])[0];o&&o.buttons.forEach((t,i)=>{let a=!0===s.current[i];if(t.pressed&&!a){let t=r[i];t&&e(t)}s.current[i]=t.pressed}),t.current=requestAnimationFrame(i)};return t.current=requestAnimationFrame(i),()=>cancelAnimationFrame(t.current||0)},[e])}},7203:function(e,t,s){"use strict";s.d(t,{g:function(){return i}});let i=JSON.parse('{"items":[{"id":"I001","name":"Master Sword","type":"weapon","revision":"Rev A","description":"Legendary blade, alloy steel","status":"Active","supplier":"Blacksmith Guild","cost":5000,"health_pct":40,"notes":"Dulls quickly"},{"id":"I001R2","name":"Master Sword","type":"weapon","revision":"Rev B","description":"Alloy change to blessed steel","status":"Active","supplier":"Sacred Forge","cost":7000,"health_pct":70,"notes":"Stronger but costly"},{"id":"I002","name":"Hylian Shield","type":"shield","revision":"Rev A","description":"Base iron shield","status":"Obsolete","supplier":"Hyrule Smithy","cost":200,"health_pct":20,"notes":"Straps weak"},{"id":"I002R3","name":"Hylian Shield","type":"shield","revision":"Rev C","description":"Reinforced straps, dragon leather","status":"Active","supplier":"Goron Tanners","cost":350,"health_pct":85,"notes":"Durable straps"},{"id":"I003","name":"Hookshot","type":"tool","revision":"Rev A","description":"Grappling tool, spring-loaded","status":"Active","supplier":"Sheikah Engineers","cost":1200,"health_pct":50,"notes":"Springs wear down"},{"id":"M101","name":"Dragon Leather","type":"material","revision":"Rev A","description":"Tough hide from ancient drakes","status":"Active","supplier":"Goron Tanners","cost":120,"health_pct":0,"notes":"Heat-treated"},{"id":"M102","name":"Blessed Steel Ingot","type":"material","revision":"Rev A","description":"Steel sanctified by temple rites","status":"Active","supplier":"Sacred Forge","cost":300,"health_pct":0,"notes":"High purity"},{"id":"M102B","name":"Sanctified Alloy Ingot","type":"material","revision":"Rev A","description":"Consecrated alloy for sanctified tempering","status":"Active","supplier":"Sacred Forge","cost":320,"health_pct":0,"notes":"Sanctified alloy"},{"id":"M103","name":"Alloy Spring","type":"component","revision":"Rev A","description":"High-tension spring of rare alloy","status":"Active","supplier":"Sheikah Engineers","cost":90,"health_pct":0,"notes":"Resilient"},{"id":"M104","name":"Swift Feather","type":"material","revision":"Rev A","description":"Lightweight feather for speed","status":"Active","supplier":"Aerie Traders","cost":40,"health_pct":0,"notes":"Airy"},{"id":"M105","name":"Fire Crystal","type":"material","revision":"Rev A","description":"Crystal that radiates warmth","status":"Active","supplier":"Volcano Miners","cost":180,"health_pct":0,"notes":"Fiery"},{"id":"M106","name":"Frost Crystal","type":"material","revision":"Rev A","description":"Crystal that chills the air","status":"Active","supplier":"Ice Quarry","cost":170,"health_pct":0,"notes":"Frigid"},{"id":"M107","name":"Thunder Core","type":"component","revision":"Rev A","description":"Compact capacitor of storm energy","status":"Active","supplier":"Skywrights","cost":210,"health_pct":0,"notes":"Conductive"},{"id":"M108","name":"Sunshard Crystal","type":"material","revision":"Rev A","description":"Radiant shard with solar charge","status":"Active","supplier":"Desert Delvers","cost":160,"health_pct":0,"notes":"Bright"},{"id":"M109","name":"Nightshade Resin","type":"material","revision":"Rev A","description":"Dark resin, dampens vibration","status":"Active","supplier":"Duskmire Gatherers","cost":75,"health_pct":0,"notes":"Damping"},{"id":"M110","name":"Obsidian Chunk","type":"material","revision":"Rev A","description":"Glossy volcanic glass shard","status":"Active","supplier":"Volcano Miners","cost":95,"health_pct":0,"notes":"Hard"},{"id":"M111","name":"Mithril Ingot","type":"material","revision":"Rev A","description":"Rare, light metal bar","status":"Active","supplier":"Deepforge","cost":400,"health_pct":0,"notes":"Resilient"},{"id":"M112","name":"Dragon Scale","type":"material","revision":"Rev A","description":"Armored scale from a wyrm","status":"Active","supplier":"Goron Tanners","cost":220,"health_pct":0,"notes":"Protective"},{"id":"M113","name":"Phoenix Ash","type":"material","revision":"Rev A","description":"Ash imbued with rebirth heat","status":"Active","supplier":"Ashen Alchemists","cost":260,"health_pct":0,"notes":"Kindled"},{"id":"M114","name":"Wind Gem","type":"material","revision":"Rev A","description":"Gem humming with wind","status":"Active","supplier":"Skywrights","cost":150,"health_pct":0,"notes":"Light"},{"id":"M115","name":"Water Pearl","type":"material","revision":"Rev A","description":"Pearl slick with water magic","status":"Active","supplier":"Riverfolk","cost":140,"health_pct":0,"notes":"Slick"},{"id":"M116","name":"Rune Capacitor","type":"component","revision":"Rev A","description":"Stores arcane charge for tools","status":"Active","supplier":"Sheikah Engineers","cost":180,"health_pct":0,"notes":"Runic"},{"id":"M117","name":"Silk String","type":"component","revision":"Rev A","description":"Fine silk string for precise bows","status":"Active","supplier":"Aerie Traders","cost":35,"health_pct":0,"notes":"Silk string"},{"id":"M118","name":"Hardwood Grip","type":"component","revision":"Rev A","description":"Shaped hardwood bow grip","status":"Active","supplier":"Highland Woodworks","cost":55,"health_pct":0,"notes":"Hardwood grip"},{"id":"M119","name":"Quenching Oil","type":"material","revision":"Rev A","description":"Oil for deep blade quench","status":"Active","supplier":"Desert Delvers","cost":28,"health_pct":0,"notes":"Quenching oil"},{"id":"M120","name":"Tempered Rivet Pack","type":"component","revision":"Rev A","description":"Heat-tempered rivets for shields","status":"Active","supplier":"Blacksmith Guild","cost":24,"health_pct":0,"notes":"Tempered rivet"},{"id":"M121","name":"Mirror Polish","type":"material","revision":"Rev A","description":"High specular polish compound","status":"Active","supplier":"Riverfolk","cost":18,"health_pct":0,"notes":"Mirror polish"},{"id":"M122","name":"Resonance Crystal","type":"material","revision":"Rev A","description":"Crystal tuned for arcane resonance","status":"Active","supplier":"Arcane Collegium","cost":130,"health_pct":0,"notes":"Resonance crystal"},{"id":"G201","name":"Longbow","type":"weapon","revision":"Rev A","description":"Tall bow with strong draw","status":"Active","supplier":"Aerie Traders","cost":350,"health_pct":55,"notes":"Stable arc"},{"id":"G202","name":"Mage Staff","type":"tool","revision":"Rev A","description":"Staff for channeling energy","status":"Active","supplier":"Arcane Collegium","cost":800,"health_pct":60,"notes":"Focus crystal"},{"id":"G203","name":"Travel Boots","type":"gear","revision":"Rev A","description":"Leather boots for long treks","status":"Active","supplier":"Highland Cobblers","cost":120,"health_pct":40,"notes":"Worn soles"}],"requests":[{"id":"R101","title":"Villagers complain straps breaking","description":"Shields failing during patrol","origin":"Villager Council","priority":"High","linked_item":"I002","status":"Closed"},{"id":"R102","title":"Sword dulls too fast","description":"Alloy not holding edge","origin":"Royal Guard","priority":"High","linked_item":"I001","status":"Closed"},{"id":"R103","title":"Hookshot spring weak","description":"Soldiers stuck mid-mission","origin":"Field Scouts","priority":"Medium","linked_item":"I003","status":"Open"},{"id":"R104","title":"Demand for lighter shields","description":"Guards request faster mobility","origin":"Guard Captain","priority":"Medium","linked_item":"I002","status":"Open"}],"changes":[{"id":"C001","type":"ECO","title":"Reinforce shield straps","description":"Add leather reinforcement","affected_item":"I002","from_rev":"Rev A","to_rev":"Rev B","rationale":"Respond to ticket R101","status":"Completed"},{"id":"C002","type":"ECO","title":"Alloy upgrade for Master Sword","description":"Switch to blessed steel","affected_item":"I001","from_rev":"Rev A","to_rev":"Rev B","rationale":"Respond to ticket R102","status":"Completed"},{"id":"C003","type":"Variant","title":"Dragon leather shield straps","description":"Strap variant using dragon leather","affected_item":"I002","from_rev":"Rev B","to_rev":"Rev C","rationale":"Strengthen durability further","status":"Completed"},{"id":"C004","type":"ECO","title":"Hookshot spring replacement","description":"Stronger Sheikah alloy springs","affected_item":"I003","from_rev":"Rev A","to_rev":"Rev B","rationale":"Respond to ticket R103","status":"Proposed"}],"adventure_log":[{"year":1,"entry":"Villagers reported straps breaking (R101). ECO C001 reinforced straps → Hylian Shield Rev B."},{"year":2,"entry":"Royal Guard complained Master Sword dulls (R102). ECO C002 upgraded alloy → Master Sword Rev B."},{"year":3,"entry":"Goron Tanners introduced dragon leather (C003). Hylian Shield Rev C created."},{"year":4,"entry":"Scouts noted Hookshot failure in caves (R103). ECO C004 proposed spring alloy upgrade (pending)."},{"year":5,"entry":"Guard Captain requested lighter shield variant (R104). Awaiting design."}]}')},1250:function(e,t,s){"use strict";var i=s(7797);s.o(i,"usePathname")&&s.d(t,{usePathname:function(){return i.usePathname}}),s.o(i,"useRouter")&&s.d(t,{useRouter:function(){return i.useRouter}}),s.o(i,"useSearchParams")&&s.d(t,{useSearchParams:function(){return i.useSearchParams}})}},function(e){e.O(0,[822,170,842,744],function(){return e(e.s=3887)}),_N_E=e.O()}]);